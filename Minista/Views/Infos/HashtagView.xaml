<Page x:Class="Minista.Views.Infos.HashtagView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:Minista"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:converters="using:Minista.Converters"
      xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
      xmlns:selector="using:Minista.Selectors"
      xmlns:vm="using:Minista.ViewModels.Infos"
      xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:core="using:Microsoft.Xaml.Interactions.Core"
      xmlns:behaviors="using:Microsoft.Toolkit.Uwp.UI.Animations.Behaviors"
      xmlns:behaviorsX="using:Minista.Behaviors"
      xmlns:loading="using:Minista.UserControls"
      xmlns:winui="using:Microsoft.UI.Xaml.Controls"
      xmlns:posts="using:Minista.Views.Posts"
      NavigationCacheMode="Enabled"
      mc:Ignorable="d"
      Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Page.DataContext>
        <vm:HashtagViewModel x:Name="HashtagVM"
                             x:FieldModifier="public" />
    </Page.DataContext>
    <Page.Resources>
        <ResourceDictionary>
            <Style TargetType="Pivot">
                <Setter Property="Margin"
                        Value="0" />
                <Setter Property="Padding"
                        Value="0" />
                <Setter Property="Background"
                        Value="{ThemeResource PivotBackground}" />
                <Setter Property="IsTabStop"
                        Value="False" />
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <Grid />
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Pivot">
                            <Grid x:Name="RootElement"
                                  HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                                  VerticalAlignment="{TemplateBinding VerticalAlignment}"
                                  Background="{TemplateBinding Background}">
                                <Grid.Resources>
                                    <Style x:Key="BaseContentControlStyle"
                                           TargetType="ContentControl">
                                        <Setter Property="FontFamily"
                                                Value="XamlAutoFontFamily" />
                                        <Setter Property="FontWeight"
                                                Value="SemiBold" />
                                        <Setter Property="FontSize"
                                                Value="15" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ContentControl">
                                                    <ContentPresenter Content="{TemplateBinding Content}"
                                                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                      Margin="0"
                                                                      Padding="0"
                                                                      ContentTransitions="{TemplateBinding ContentTransitions}"
                                                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                      OpticalMarginAlignment="TrimSideBearings" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    <Style x:Key="TitleContentControlStyle"
                                           TargetType="ContentControl"
                                           BasedOn="{StaticResource BaseContentControlStyle}">
                                        <Setter Property="FontFamily"
                                                Value="{ThemeResource PivotTitleFontFamily}" />
                                        <Setter Property="FontWeight"
                                                Value="{ThemeResource PivotTitleThemeFontWeight}" />
                                        <Setter Property="FontSize"
                                                Value="{ThemeResource PivotTitleFontSize}" />
                                    </Style>
                                </Grid.Resources>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="Orientation">
                                        <VisualState x:Name="Portrait">
                                            <Storyboard>
                                                <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="TitleContentControl"
                                                                               Storyboard.TargetProperty="Margin">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource PivotPortraitThemePadding}" />
                                                </ObjectAnimationUsingKeyFrames>-->
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Landscape">
                                            <Storyboard>
                                                <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="TitleContentControl"
                                                                               Storyboard.TargetProperty="Margin">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource PivotLandscapeThemePadding}" />
                                                </ObjectAnimationUsingKeyFrames>-->
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="NavigationButtonsVisibility">
                                        <VisualState x:Name="NavigationButtonsHidden" />
                                        <VisualState x:Name="NavigationButtonsVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NextButton"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="1" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NextButton"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="True" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="1" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="True" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="PreviousButtonVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="1" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="True" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="NextButtonVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NextButton"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="1" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NextButton"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="True" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="HeaderStates">
                                        <VisualState x:Name="HeaderDynamic" />
                                        <VisualState x:Name="HeaderStatic">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Header"
                                                                               Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="StaticHeader"
                                                                               Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="Visible" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <ContentControl x:Name="TitleContentControl"
                                                IsTabStop="False"
                                                Margin="{StaticResource PivotPortraitThemePadding}"
                                                Style="{StaticResource TitleContentControlStyle}"
                                                Visibility="Collapsed"
                                                Content="{TemplateBinding Title}"
                                                ContentTemplate="{TemplateBinding TitleTemplate}" />
                                <Grid Grid.Row="1">
                                    <Grid.Resources>
                                        <ControlTemplate x:Key="NextTemplate"
                                                         TargetType="Button">
                                            <Border x:Name="Root"
                                                    Background="{ThemeResource PivotNextButtonBackground}"
                                                    BorderThickness="{ThemeResource PivotNavButtonBorderThemeThickness}"
                                                    BorderBrush="{ThemeResource PivotNextButtonBorderBrush}">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="PointerOver">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="Background">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonBackgroundPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="BorderBrush">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonBorderBrushPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow"
                                                                                               Storyboard.TargetProperty="Foreground">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonForegroundPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Pressed">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="Background">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonBackgroundPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="BorderBrush">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonBorderBrushPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow"
                                                                                               Storyboard.TargetProperty="Foreground">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotNextButtonForegroundPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <FontIcon x:Name="Arrow"
                                                          FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                          FontSize="12"
                                                          Foreground="{ThemeResource PivotNextButtonForeground}"
                                                          Glyph="&#xE0E3;"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"
                                                          MirroredWhenRightToLeft="True"
                                                          UseLayoutRounding="False" />
                                            </Border>
                                        </ControlTemplate>
                                        <ControlTemplate x:Key="PreviousTemplate"
                                                         TargetType="Button">
                                            <Border x:Name="Root"
                                                    Background="{ThemeResource PivotPreviousButtonBackground}"
                                                    BorderThickness="{ThemeResource PivotNavButtonBorderThemeThickness}"
                                                    BorderBrush="{ThemeResource PivotPreviousButtonBorderBrush}">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="PointerOver">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="Background">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonBackgroundPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="BorderBrush">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonBorderBrushPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow"
                                                                                               Storyboard.TargetProperty="Foreground">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonForegroundPointerOver}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Pressed">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="Background">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonBackgroundPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Root"
                                                                                               Storyboard.TargetProperty="BorderBrush">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonBorderBrushPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow"
                                                                                               Storyboard.TargetProperty="Foreground">
                                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                                            Value="{ThemeResource PivotPreviousButtonForegroundPressed}" />
                                                                </ObjectAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <FontIcon x:Name="Arrow"
                                                          FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                          FontSize="12"
                                                          Foreground="{ThemeResource PivotPreviousButtonForeground}"
                                                          Glyph="&#xE0E2;"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"
                                                          MirroredWhenRightToLeft="True"
                                                          UseLayoutRounding="False" />
                                            </Border>
                                        </ControlTemplate>
                                    </Grid.Resources>
                                    <ScrollViewer x:Name="ScrollViewer"
                                                  Margin="0"
                                                  Padding="0"
                                                  HorizontalSnapPointsType="MandatorySingle"
                                                  HorizontalSnapPointsAlignment="Center"
                                                  HorizontalScrollBarVisibility="Hidden"
                                                  VerticalScrollMode="Disabled"
                                                  VerticalScrollBarVisibility="Disabled"
                                                  VerticalSnapPointsType="None"
                                                  VerticalContentAlignment="Stretch"
                                                  ZoomMode="Disabled"
                                                  Template="{StaticResource ScrollViewerScrollBarlessTemplate}"
                                                  BringIntoViewOnFocusChange="False">
                                        <PivotPanel x:Name="Panel"
                                                    VerticalAlignment="Stretch"
                                                    Margin="0">
                                            <Grid x:Name="PivotLayoutElement"
                                                  Margin="0"
                                                  Padding="0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>
                                                <Grid.RenderTransform>
                                                    <CompositeTransform x:Name="PivotLayoutElementTranslateTransform" />
                                                </Grid.RenderTransform>
                                                <Grid Loaded="GridLoaded"
                                                      Margin="0"
                                                      Padding="0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <ContentPresenter x:Name="LeftHeaderPresenter"
                                                                      Content="{TemplateBinding LeftHeader}"
                                                                      ContentTemplate="{TemplateBinding LeftHeaderTemplate}"
                                                                      HorizontalAlignment="Stretch"
                                                                      VerticalAlignment="Stretch" />
                                                    <ContentControl x:Name="HeaderClipper"
                                                                    Grid.Column="1"
                                                                    UseSystemFocusVisuals="True"
                                                                    HorizontalContentAlignment="Stretch">
                                                        <ContentControl.Clip>
                                                            <RectangleGeometry x:Name="HeaderClipperGeometry" />
                                                        </ContentControl.Clip>
                                                        <Grid Background="{ThemeResource PivotHeaderBackground}">
                                                            <Grid.RenderTransform>
                                                                <CompositeTransform x:Name="HeaderOffsetTranslateTransform" />
                                                            </Grid.RenderTransform>
                                                            <PivotHeaderPanel x:Name="StaticHeader"
                                                                              Visibility="Collapsed">
                                                                <PivotHeaderPanel.RenderTransform>
                                                                    <CompositeTransform x:Name="StaticHeaderTranslateTransform" />
                                                                </PivotHeaderPanel.RenderTransform>
                                                            </PivotHeaderPanel>
                                                            <PivotHeaderPanel x:Name="Header">
                                                                <PivotHeaderPanel.RenderTransform>
                                                                    <CompositeTransform x:Name="HeaderTranslateTransform" />
                                                                </PivotHeaderPanel.RenderTransform>
                                                            </PivotHeaderPanel>
                                                        </Grid>
                                                    </ContentControl>
                                                    <Button x:Name="PreviousButton"
                                                            Grid.Column="1"
                                                            Template="{StaticResource PreviousTemplate}"
                                                            Width="20"
                                                            Height="36"
                                                            UseSystemFocusVisuals="False"
                                                            Margin="{ThemeResource PivotNavButtonMargin}"
                                                            IsTabStop="False"
                                                            IsEnabled="False"
                                                            HorizontalAlignment="Left"
                                                            VerticalAlignment="Top"
                                                            Opacity="0"
                                                            Background="Transparent" />
                                                    <Button x:Name="NextButton"
                                                            Grid.Column="1"
                                                            Template="{StaticResource NextTemplate}"
                                                            Width="20"
                                                            Height="36"
                                                            UseSystemFocusVisuals="False"
                                                            Margin="{ThemeResource PivotNavButtonMargin}"
                                                            IsTabStop="False"
                                                            IsEnabled="False"
                                                            HorizontalAlignment="Right"
                                                            VerticalAlignment="Top"
                                                            Opacity="0"
                                                            Background="Transparent" />
                                                    <ContentPresenter x:Name="RightHeaderPresenter"
                                                                      Grid.Column="2"
                                                                      Content="{TemplateBinding RightHeader}"
                                                                      ContentTemplate="{TemplateBinding RightHeaderTemplate}"
                                                                      HorizontalAlignment="Stretch"
                                                                      VerticalAlignment="Stretch" />
                                                </Grid>
                                                <ItemsPresenter x:Name="PivotItemPresenter"
                                                                Grid.Row="1"
                                                                Grid.ColumnSpan="3"
                                                                Margin="0"
                                                                Padding="0">
                                                    <ItemsPresenter.RenderTransform>
                                                        <TransformGroup>
                                                            <TranslateTransform x:Name="ItemsPresenterTranslateTransform" />
                                                            <CompositeTransform x:Name="ItemsPresenterCompositeTransform" />
                                                        </TransformGroup>
                                                    </ItemsPresenter.RenderTransform>
                                                </ItemsPresenter>
                                            </Grid>
                                        </PivotPanel>
                                    </ScrollViewer>
                                </Grid>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="GridViewItemContainerStyle"
                   TargetType="GridViewItem">
                <Setter Property="HorizontalContentAlignment"
                        Value="Stretch" />
                <Setter Property="HorizontalAlignment"
                        Value="Stretch" />
                <Setter Property="VerticalContentAlignment"
                        Value="Stretch" />
                <Setter Property="VerticalAlignment"
                        Value="Stretch" />
                <Setter Property="Margin"
                        Value="1" />
                <Setter Property="Padding"
                        Value="0" />
            </Style>
            <Style TargetType="ListViewItem">
                <Setter Property="VerticalContentAlignment"
                        Value="Stretch" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Stretch" />
                <Setter Property="Margin"
                        Value="1" />
                <Setter Property="Padding"
                        Value="0" />
            </Style>
            <converters:FollowingConverter x:Key="FollowingConverter" />
            <converters:FollowingVisibilityConverter x:Key="FollowingVisibilityConverter" />
            <converters:DateTimeConverter x:Key="DateTimeConverter" />
            <converters:BooleanToVisibiltyConverter x:Key="BooleanToVisibiltyConverter" />
            <converters:NullableToVisibilityConverter x:Key="NullableToVisibilityConverter" />
            <converters:UserConverter x:Key="UserConverter" />
            <converters:TagConverter x:Key="TagConverter" />
            <converters:FollowHashtagConverter x:Key="FollowHashtagConverter" />
            <converters:ActivityItemVisibilityConverter x:Key="ActivityItemVisibilityConverter" />
            <converters:CountConverter x:Key="CountConverter" />
            <converters:MediaTypeToIconConverter x:Key="MediaTypeToIconConverter" />
            <converters:MediaTypeToVisibiltyConverter x:Key="MediaTypeToVisibiltyConverter" />  
            <converters:IGTVIconToVisibilityConverter x:Key="IGTVIconToVisibilityConverter" />
            
            <DataTemplate x:Key="ImageTemplate">
                <Grid CornerRadius="5"
                      MinHeight="80"
                      MinWidth="80">
                    <!--<Grid.Background>
                        <ImageBrush>
                            <ImageBrush.ImageSource>
                                <BitmapImage UriSource="{Binding Images[0].Uri, Mode=OneWay}" />
                            </ImageBrush.ImageSource>
                        </ImageBrush>
                    </Grid.Background>-->

                    <controls:ImageEx VerticalAlignment="Center"
                                      HorizontalAlignment="Center"
                                      Stretch="UniformToFill"
                                      MinHeight="80"
                                      MinWidth="80">
                        <controls:ImageEx.Source>
                            <BitmapImage UriSource="{Binding Images[0].Uri, Mode=OneWay}" />
                        </controls:ImageEx.Source>
                    </controls:ImageEx>
                    <controls:DropShadowPanel BlurRadius="4.0"
                                              ShadowOpacity="0.80"
                                              OffsetX="7.0"
                                              OffsetY="7.0"
                                              Color="Black"
                                              HorizontalAlignment="Right"
                                              VerticalAlignment="Top"
                                              Margin="10"
                                              Visibility="{Binding Mode=OneWay,Converter={StaticResource MediaTypeToVisibiltyConverter}}">
                        <!--MediaType-->
                        <TextBlock Text="{Binding Mode=OneWay,Converter={StaticResource MediaTypeToIconConverter}}"
                                   FontFamily="{StaticResource SymbolFont}"
                                   FontSize="{StaticResource DefaultFontSize}"
                                   Margin="5"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextWrapping="NoWrap"
                                   TextAlignment="Center" />
                    </controls:DropShadowPanel>
                    <controls:DropShadowPanel BlurRadius="4.0"
                                              ShadowOpacity="0.80"
                                              OffsetX="7.0"
                                              OffsetY="7.0"
                                              Color="Black"
                                              HorizontalAlignment="Right"
                                              VerticalAlignment="Top"
                                              Margin="10"
                                              Visibility="{Binding Mode=OneWay, Converter={StaticResource IGTVIconToVisibilityConverter}}">
                        <FontIcon FontSize="{StaticResource BigFontSize}"
                                  FontFamily="{StaticResource MaterialSymbolFont}"
                                  Foreground="White"
                                  Glyph="" />
                        <!--Glyph=""-->
                    </controls:DropShadowPanel>
                </Grid>
            </DataTemplate>
            <DataTemplate x:Key="CarouselTemplate">
                <Grid CornerRadius="5"
                      MinHeight="80"
                      MinWidth="80">
                    <!--<Grid.Background>
                        <ImageBrush>
                            <ImageBrush.ImageSource>
                                <BitmapImage UriSource="{Binding Carousel[0].Images[0].Uri, Mode=TwoWay}" />
                            </ImageBrush.ImageSource>
                        </ImageBrush>
                    </Grid.Background>-->
                    <controls:ImageEx VerticalAlignment="Center"
                                      HorizontalAlignment="Center"
                                      Stretch="UniformToFill"
                                      MinHeight="80"
                                      MinWidth="80">
                        <controls:ImageEx.Source>
                            <BitmapImage UriSource="{Binding Carousel[0].Images[0].Uri, Mode=OneWay}" />
                        </controls:ImageEx.Source>
                    </controls:ImageEx>
                    <controls:DropShadowPanel BlurRadius="4.0"
                                              ShadowOpacity="0.80"
                                              OffsetX="7.0"
                                              OffsetY="7.0"
                                              Color="Black"
                                              HorizontalAlignment="Right"
                                              VerticalAlignment="Top"
                                              Margin="10"
                                              Visibility="{Binding MediaType, Mode=OneWay,Converter={StaticResource MediaTypeToVisibiltyConverter}}">
                        <TextBlock Text="{Binding MediaType, Mode=OneWay,Converter={StaticResource MediaTypeToIconConverter}}"
                                   FontFamily="{StaticResource SymbolFont}"
                                   FontSize="{StaticResource DefaultFontSize}"
                                   Margin="5"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextWrapping="NoWrap"
                                   TextAlignment="Center" />
                    </controls:DropShadowPanel>

                </Grid>
            </DataTemplate>
            <selector:MediaUserInfoTemplateSelector x:Key="MediaHashtagInfoTemplateSelector"
                                                    ImageTemplate="{StaticResource ImageTemplate}"
                                                    CarouselTemplate="{StaticResource CarouselTemplate}" />

        </ResourceDictionary>
    </Page.Resources>
    <Grid Background="{StaticResource DefaultBackgroundColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <loading:LoadingUc x:Name="TopLoading"
                           Visibility="Collapsed"
                           VerticalAlignment="Top" />
        <Grid Grid.Row="1">
            <winui:RefreshContainer x:Name="RefreshControl">
                <ScrollViewer x:Name="SCMain"
                              ViewChanging="ScrollViewViewChanging">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid x:Name="GridMainScrollViewer" Background="{StaticResource DefaultBackgroundColor}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <TextBlock FontFamily="{StaticResource VazirFont}"
                                       FontSize="{StaticResource DefaultFontSize}"
                                       FontWeight="Normal"
                                       Foreground="#FF9C9C9C"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       TextAlignment="Center"
                                       TextWrapping="Wrap">
                    #<Run Text="{Binding Hashtag.Name}" />
                            </TextBlock>
                            <Rectangle Fill="#FF363636"
                                       Height="1.4"
                                       MinWidth="250"
                                       MaxWidth="290"
                                       Grid.Row="1"
                                       Margin="5"
                                       HorizontalAlignment="Stretch"
                                       VerticalAlignment="Stretch" />
                            <Grid Grid.Row="2"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  MinWidth="250"
                                  MaxWidth="300">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid>
                                    <Ellipse x:Name="UserImage"
                                             x:FieldModifier="public"
                                             Height="65"
                                             Width="65"
                                             Margin="5 5"
                                             Stroke="#FF3C2866"
                                             StrokeThickness="2">
                                        <Ellipse.Fill>
                                            <ImageBrush>
                                                <ImageBrush.ImageSource>
                                                    <BitmapImage UriSource="{Binding Stories[0].User.ProfilePicture}" />
                                                </ImageBrush.ImageSource>
                                            </ImageBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                    <Grid VerticalAlignment="Bottom"
                                          HorizontalAlignment="Right"
                                          Margin="2 -2">
                                        <Ellipse Height="20"
                                                 Width="20"
                                                 Margin="5 5"
                                                 StrokeThickness=".8">
                                            <Ellipse.Stroke>
                                                <LinearGradientBrush EndPoint="0.5,1"
                                                                     StartPoint="0.5,0">
                                                    <GradientStop Color="#FFD03728" />
                                                    <GradientStop Color="#FFCE6319"
                                                                  Offset="1" />
                                                </LinearGradientBrush>
                                            </Ellipse.Stroke>
                                            <Ellipse.Fill>
                                                <LinearGradientBrush EndPoint="0.5,1"
                                                                     StartPoint="0.5,0">
                                                    <GradientStop Color="#FFCD7812" />
                                                    <GradientStop Color="#FFD12C2C"
                                                                  Offset="1" />
                                                </LinearGradientBrush>
                                            </Ellipse.Fill>
                                        </Ellipse>
                                        <TextBlock Text="#"
                                                   FontFamily="{StaticResource SegoeUIFont}"
                                                   FontSize="21"
                                                   FontWeight="SemiBold"
                                                   Foreground="White"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   TextAlignment="Center" />

                                    </Grid>

                                    <Ellipse Fill="Black"
                                             Opacity="0"
                                             Height="65"
                                             Width="65"
                                             Margin="5 5"
                                             Tapped="ProfileEllipseTapped" />
                                </Grid>
                                <Grid Grid.Column="1">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock FontFamily="{StaticResource VazirFont}"
                                               FontSize="{StaticResource DefaultFontSize}"
                                               Margin="5"
                                               Foreground="#FFA8A8A8"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               TextAlignment="Center">
                        <!--<Run Text="{Binding Hashtag.MediaCount,Converter={StaticResource CountConverter}}" />-->
                        <Run Text="{Binding Hashtag.FormattedMediaCount}" />
                        <Run Text="posts" />
                                    </TextBlock>
                                    <Button Content="{Binding FollowStatus,Mode=TwoWay, Converter={StaticResource FollowHashtagConverter}}"
                                            Visibility="{Binding Mode=TwoWay, Converter={StaticResource NullableToVisibilityConverter}}"
                                            DataContext="{Binding Hashtag}"
                                            FontFamily="{StaticResource VazirFont}"
                                            FontSize="{StaticResource DefaultFontSize}"
                                            Grid.Row="1"
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            Width="130"
                                            VerticalAlignment="Center"
                                            Click="FollowStatusButtonClick">
                                        <interactivity:Interaction.Behaviors>
                                            <behaviorsX:PointersEvent />
                                        </interactivity:Interaction.Behaviors>
                                    </Button>
                                    <TextBlock FontFamily="{StaticResource VazirFont}"
                                               FontSize="{StaticResource TinyFontSize}"
                                               Grid.Row="2"
                                               Foreground="#FFA8A8A8"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               TextWrapping="Wrap"
                                               TextAlignment="Center">
                        <Run Text="{Binding Hashtag.SocialContext}" />
                                    </TextBlock>
                                </Grid>

                            </Grid>

                            <ListView x:Name="LVRelatives"
                                      SelectionMode="None"
                                      Foreground="White"
                                      Grid.Row="3"
                                      Margin="14 5"
                                      MaxWidth="300"
                                      ItemsSource="{Binding HashtagsTopGenerator.RelatedHashtags, Mode=OneWay}"
                                      ScrollViewer.HorizontalScrollMode="Enabled"
                                      ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                      ScrollViewer.VerticalScrollMode="Disabled"
                                      ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                      IsItemClickEnabled="True"
                                      ItemClick="LVRelativesItemClick"
                                      Visibility="{Binding HashtagsTopGenerator.RelatedHashtags, Converter={StaticResource NullableToVisibilityConverter}}">
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalContentAlignment"
                                                Value="Center" />
                                        <Setter Property="Margin"
                                                Value="0" />
                                        <Setter Property="Padding"
                                                Value="0 5 5 5" />
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <ItemsStackPanel Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>
                                <ListView.Header>
                                    <Grid VerticalAlignment="Center">
                                        <interactivity:Interaction.Behaviors>
                                            <behaviorsX:PointersEvent />
                                        </interactivity:Interaction.Behaviors>
                                        <TextBlock FontFamily="{StaticResource VazirFont}"
                                                   FontSize="{StaticResource DefaultFontSize}"
                                                   Foreground="#FFA8A8A8"
                                                   Text="Related"
                                                   VerticalAlignment="Center" />
                                    </Grid>
                                </ListView.Header>
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid VerticalAlignment="Center">
                                            <interactivity:Interaction.Behaviors>
                                                <behaviorsX:PointersEvent />
                                            </interactivity:Interaction.Behaviors>
                                            <TextBlock FontFamily="{StaticResource VazirFont}"
                                                       FontSize="{StaticResource DefaultFontSize}"
                                                       Foreground="#FFA8A8A8">
                                     #<Run Text="{Binding Name}" />
                                            </TextBlock>
                                        </Grid>
                                    </DataTemplate>
                                </ListView.ItemTemplate>

                            </ListView>

                            <Rectangle Fill="#FF363636"
                                       Height="1.4"
                                       MinWidth="250"
                                       MaxWidth="290"
                                       Grid.Row="4"
                                       Margin="5"
                                       HorizontalAlignment="Stretch"
                                       VerticalAlignment="Stretch" />


                        </Grid>
                        <Pivot x:Name="MainPivot"
                               Grid.Row="1"
                               Padding="0"
                               Margin="0"
                               SelectionChanged="MainPivotSelectionChanged">
                            <PivotItem Header="Top"
                                       Padding="0"
                                       Margin="0">

                                <local:AdaptiveGridViewOriginal x:Name="LVTop"
                                                        Margin="5"
                                                                ItemHeight="100"
                                                                DesiredWidth="100"
                                                        SelectionMode="None"
                                                        Loaded="OnLVTopLoaded"
                                                        ItemClick="LVItemClick"
                                                        IsItemClickEnabled="True"
                                                        ItemsSource="{Binding HashtagsTopGenerator.Items, Mode=OneWay}"
                                                        ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                                        ContainerContentChanging="LVContainerContentChanging"
                                                        ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                                    <local:AdaptiveGridViewOriginal.ItemContainerTransitions>
                                        <TransitionCollection>
                                            <EntranceThemeTransition />
                                        </TransitionCollection>
                                    </local:AdaptiveGridViewOriginal.ItemContainerTransitions>
                                    <local:AdaptiveGridViewOriginal.Header>
                                        <Grid Visibility="{Binding HashtagsTopGenerator.Channel, Converter={StaticResource NullableToVisibilityConverter}}"
                                              MaxHeight="220"
                                              HorizontalAlignment="Center">
                                            <MediaElement AutoPlay="True"
                                                          AreTransportControlsEnabled="False"
                                                          MaxHeight="220"
                                                          IsMuted="True"
                                                          Stretch="UniformToFill"
                                                          Source="{Binding HashtagsTopGenerator.Channel.Media.Videos[0].Uri, Mode=OneWay}"
                                                          PosterSource="{Binding HashtagsTopGenerator.Channel.Media.Images[0].Uri,Mode=OneWay}"
                                                          MediaEnded="MediaElementMediaEnded" />
                                            <Grid VerticalAlignment="Center"
                                                  HorizontalAlignment="Center">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <controls:DropShadowPanel BlurRadius="11.0"
                                                                          ShadowOpacity="0.70"
                                                                          OffsetX="5.0"
                                                                          OffsetY="5.0"
                                                                          Color="Black"
                                                                          Margin="5"
                                                                          HorizontalAlignment="Center"
                                                                          VerticalAlignment="Center">
                                                    <TextBlock Text="WATCH"
                                                               FontFamily="{StaticResource VazirFont}"
                                                               FontSize="{StaticResource TinyFontSize}"
                                                               Margin="5"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"
                                                               TextAlignment="Center" />
                                                </controls:DropShadowPanel>
                                                <controls:DropShadowPanel BlurRadius="11.0"
                                                                          Grid.Row="1"
                                                                          ShadowOpacity="0.70"
                                                                          OffsetX="5.0"
                                                                          OffsetY="5.0"
                                                                          Color="Black"
                                                                          Margin="5"
                                                                          HorizontalAlignment="Center"
                                                                          VerticalAlignment="Center">
                                                    <TextBlock Text="{Binding HashtagsTopGenerator.Channel.Title}"
                                                               FontFamily="{StaticResource VazirFont}"
                                                               FontSize="{StaticResource DefaultFontSize}"
                                                               Margin="5"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"
                                                               TextAlignment="Center" />
                                                </controls:DropShadowPanel>
                                            </Grid>
                                            <Grid Background="Black"
                                                  Opacity="0"
                                                  Tapped="MediaElementTapped" />
                                        </Grid>
                                    </local:AdaptiveGridViewOriginal.Header>
                                </local:AdaptiveGridViewOriginal>


                            </PivotItem>
                            <PivotItem Header="Recent"
                                       Padding="0"
                                       Margin="0">
                                <local:AdaptiveGridViewOriginal x:Name="LVRecent" Margin="5"
                                                                ItemHeight="100"
                                                                DesiredWidth="100"
                                                        SelectionMode="None"
                                                        ItemClick="LVItemXClick"
                                                        Loaded="OnLVRecentLoaded"
                                                        IsItemClickEnabled="True"
                                                        ItemsSource="{Binding HashtagsRecentGenerator.Items, Mode=OneWay}"
                                                        ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                                        ContainerContentChanging="LVContainerContentChanging"
                                                        ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                                    <local:AdaptiveGridViewOriginal.ItemContainerTransitions>
                                        <TransitionCollection>
                                            <EntranceThemeTransition />
                                        </TransitionCollection>
                                    </local:AdaptiveGridViewOriginal.ItemContainerTransitions>
                                </local:AdaptiveGridViewOriginal>

                            </PivotItem>
                        </Pivot>

                    </Grid>
                </ScrollViewer>
            </winui:RefreshContainer>
            <!--<Grid x:Name="HeaderGrid"
                  Visibility="Visible"
                  Loaded="HeaderGridLoaded"
                  VerticalAlignment="Top">
                <Grid Grid.RowSpan="2">
                    <interactivity:Interaction.Behaviors>
                        <behaviors:Blur x:Name="BlurBehavior"
                                        Value="25"
                                        Duration="0"
                                        Delay="0"
                                        AutomaticallyStart="True" />
                    </interactivity:Interaction.Behaviors>
                </Grid>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />

                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <AppBarButton x:Name="TopButton"
                                  ToolTipService.ToolTip="Top Hashtags"
                                  HorizontalAlignment="Stretch"
                                  Width="190"
                                  Margin="2"
                                  Grid.Column="1"
                                  FontFamily="{StaticResource VazirFont}"
                                  FontSize="{StaticResource DefaultFontSize}"
                                  Click="TopButtonClick"
                                  Style="{StaticResource NotCenteredAppBarButton}"
                                  Background="{x:Null}">
                        <interactivity:Interaction.Behaviors>
                            <behaviorsX:PointersEvent />
                        </interactivity:Interaction.Behaviors>
                        <Grid>
                            <TextBlock x:Name="txtTop"
                                       Foreground="White"
                                       Text="Top"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontFamily="{StaticResource VazirFont}"
                                       FontSize="{StaticResource DefaultFontSize}"
                                       TextWrapping="NoWrap"
                                       Margin="3" />
                            <Grid Background="SaddleBrown"
                                  Opacity="0" />
                        </Grid>
                    </AppBarButton>
                    <AppBarButton x:Name="RecentButton"
                                  ToolTipService.ToolTip="Recent Hashtags"
                                  HorizontalAlignment="Stretch"
                                  Width="190"
                                  Margin="2"
                                  Grid.Column="2"
                                  FontFamily="{StaticResource VazirFont}"
                                  FontSize="{StaticResource DefaultFontSize}"
                                  Click="RecentButtonClick"
                                  Style="{StaticResource NotCenteredAppBarButton}"
                                  Background="{x:Null}">
                        <interactivity:Interaction.Behaviors>
                            <behaviorsX:PointersEvent />
                        </interactivity:Interaction.Behaviors>
                        <Grid>
                            <TextBlock x:Name="txtRecent"
                                       Text="Recent"
                                       Foreground="#FFD5D5D5"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontFamily="{StaticResource VazirFont}"
                                       FontSize="{StaticResource DefaultFontSize}"
                                       TextWrapping="NoWrap"
                                       Margin="3" />
                            <Grid Background="SaddleBrown"
                                  Opacity="0" />
                        </Grid>
                    </AppBarButton>

                </Grid>
            </Grid>-->

        </Grid>
        <Button x:Name="RefreshButton"
                Background="{x:Null}"
                Grid.RowSpan="2"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Left"
                Margin="12 0 0 60"
                Click="RefreshButtonClick">
            <Grid>

                <Ellipse Width="45"
                         Height="45"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         Fill="#FF333333" />
                <FontIcon FontFamily="{StaticResource SymbolFont}"
                          FontSize="{StaticResource HeaderFontSize}"
                          Foreground="White"
                          Glyph="" />
                <Grid Background="Cyan"
                      Opacity="0" />
            </Grid>
        </Button>
        <Button x:Name="GoUpButton"
                Background="{x:Null}"
                Grid.RowSpan="2"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Right"
                Margin="0 0 12 50"
                Click="GoUpButtonClick">
            <Grid>

                <Ellipse Width="45"
                         Height="45"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         Fill="#FF333333" />
                <FontIcon FontFamily="{StaticResource SymbolFont}"
                          FontSize="{StaticResource HeaderFontSize}"
                          Foreground="White"
                          Glyph="" />
            </Grid>
        </Button>
        <loading:LoadingUc x:Name="BottomLoading"
                           Visibility="Collapsed"
                           VerticalAlignment="Bottom"
                           Grid.Row="2" />


        <posts:ScrollableHashtagPostUc x:Name="ScrollableHashtagPostUc"
                                     x:FieldModifier="public"
                                     HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     Grid.RowSpan="4"
                                       Visibility="Collapsed" />
        <posts:ScrollableRecentHashtagPostUc x:Name="ScrollableRecentHashtagPostUc"
                                       x:FieldModifier="public"
                                       HorizontalAlignment="Stretch"
                                       VerticalAlignment="Stretch"
                                       Grid.RowSpan="4"
                                       Visibility="Collapsed" />
    </Grid>

</Page>









<!--<ListView x:Name="MainLV"
          Grid.Row="1"
          Foreground="{StaticResource DefaultInnerForegroundColor}"
          SelectionMode="None"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          IsItemClickEnabled="False">
    <ListView.Header>
        <controls:ScrollHeader Mode="QuickReturn">
            <Grid Background="{StaticResource DefaultBackgroundColor}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock FontFamily="{StaticResource VazirFont}"
                           FontSize="{StaticResource DefaultFontSize}"
                           FontWeight="Normal"
                           Foreground="#FF9C9C9C"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           TextAlignment="Center"
                           TextWrapping="Wrap">
                    #<Run Text="{Binding Hashtag.Name}" />
                </TextBlock>
                <Rectangle Fill="#FF363636"
                           Height="1.4"
                           MinWidth="250"
                           MaxWidth="290"
                           Grid.Row="1"
                           Margin="5"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch" />
                <Grid Grid.Row="2"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Center"
                      MinWidth="250"
                      MaxWidth="300">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid>
                        <Ellipse x:Name="UserImage"
                                 x:FieldModifier="public"
                                 Height="65"
                                 Width="65"
                                 Margin="5 5"
                                 Stroke="#FF3C2866"
                                 StrokeThickness="2">
                            <Ellipse.Fill>
                                <ImageBrush>
                                    <ImageBrush.ImageSource>
                                        <BitmapImage UriSource="{Binding Stories[0].User.ProfilePicture}" />
                                    </ImageBrush.ImageSource>
                                </ImageBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <Grid VerticalAlignment="Bottom"
                              HorizontalAlignment="Right"
                              Margin="2 -2">
                            <Ellipse Height="20"
                                     Width="20"
                                     Margin="5 5"
                                     StrokeThickness=".8">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush EndPoint="0.5,1"
                                                         StartPoint="0.5,0">
                                        <GradientStop Color="#FFD03728" />
                                        <GradientStop Color="#FFCE6319"
                                                      Offset="1" />
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                                <Ellipse.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1"
                                                         StartPoint="0.5,0">
                                        <GradientStop Color="#FFCD7812" />
                                        <GradientStop Color="#FFD12C2C"
                                                      Offset="1" />
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Text="#"
                                       FontFamily="{StaticResource SegoeUIFont}"
                                       FontSize="21"
                                       FontWeight="SemiBold"
                                       Foreground="White"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       TextAlignment="Center" />

                        </Grid>

                        <Ellipse Fill="Black"
                                 Opacity="0"
                                 Height="65"
                                 Width="65"
                                 Margin="5 5"
                                 Tapped="ProfileEllipseTapped" />
                    </Grid>
                    <Grid Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <TextBlock FontFamily="{StaticResource VazirFont}"
                                   FontSize="{StaticResource DefaultFontSize}"
                                   Margin="5"
                                   Foreground="#FFA8A8A8"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextAlignment="Center">
                        --><!--<Run Text="{Binding Hashtag.MediaCount,Converter={StaticResource CountConverter}}" />--><!--
                        <Run Text="{Binding Hashtag.FormattedMediaCount}" />
                        <Run Text="posts" />
                        </TextBlock>
                        <Button Content="{Binding FollowStatus,Mode=TwoWay, Converter={StaticResource FollowHashtagConverter}}"
                                Visibility="{Binding Mode=TwoWay, Converter={StaticResource NullableToVisibilityConverter}}"
                                DataContext="{Binding Hashtag}"
                                FontFamily="{StaticResource VazirFont}"
                                FontSize="{StaticResource DefaultFontSize}"
                                Grid.Row="1"
                                Margin="5"
                                HorizontalAlignment="Center"
                                Width="130"
                                VerticalAlignment="Center"
                                Click="FollowStatusButtonClick">
                            <interactivity:Interaction.Behaviors>
                                <behaviorsX:PointersEvent />
                            </interactivity:Interaction.Behaviors>
                        </Button>
                        <TextBlock FontFamily="{StaticResource VazirFont}"
                                   FontSize="{StaticResource TinyFontSize}"
                                   Grid.Row="2"
                                   Foreground="#FFA8A8A8"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center">
                        <Run Text="{Binding Hashtag.SocialContext}" />
                        </TextBlock>
                    </Grid>

                </Grid>

                <ListView x:Name="LVRelatives"
                          SelectionMode="None"
                          Foreground="White"
                          Grid.Row="3"
                          Margin="14 5"
                          MaxWidth="300"
                          ItemsSource="{Binding HashtagsTopGenerator.RelatedHashtags, Mode=OneWay}"
                          ScrollViewer.HorizontalScrollMode="Enabled"
                          ScrollViewer.HorizontalScrollBarVisibility="Auto"
                          ScrollViewer.VerticalScrollMode="Disabled"
                          ScrollViewer.VerticalScrollBarVisibility="Hidden"
                          IsItemClickEnabled="True"
                          ItemClick="LVRelativesItemClick"
                          Visibility="{Binding HashtagsTopGenerator.RelatedHashtags, Converter={StaticResource NullableToVisibilityConverter}}">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment"
                                    Value="Center" />
                            <Setter Property="Margin"
                                    Value="0" />
                            <Setter Property="Padding"
                                    Value="0 5 5 5" />
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsStackPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.Header>
                        <Grid VerticalAlignment="Center">
                            <interactivity:Interaction.Behaviors>
                                <behaviorsX:PointersEvent />
                            </interactivity:Interaction.Behaviors>
                            <TextBlock FontFamily="{StaticResource VazirFont}"
                                       FontSize="{StaticResource DefaultFontSize}"
                                       Foreground="#FFA8A8A8"
                                       Text="Related"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </ListView.Header>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid VerticalAlignment="Center">
                                <interactivity:Interaction.Behaviors>
                                    <behaviorsX:PointersEvent />
                                </interactivity:Interaction.Behaviors>
                                <TextBlock FontFamily="{StaticResource VazirFont}"
                                           FontSize="{StaticResource DefaultFontSize}"
                                           Foreground="#FFA8A8A8">
                                     #<Run Text="{Binding Name}" />
                                </TextBlock>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>

                </ListView>

                <Rectangle Fill="#FF363636"
                           Height="1.4"
                           MinWidth="250"
                           MaxWidth="290"
                           Grid.Row="4"
                           Margin="5"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch" />


            </Grid>
        </controls:ScrollHeader>
    </ListView.Header>
    <Pivot x:Name="MainPivot"
           Grid.Row="1"
           Padding="0"
           Margin="0"
           SelectionChanged="MainPivotSelectionChanged">
        <PivotItem Header="Top"
                   Padding="0"
                   Margin="0">

            <local:AdaptiveGridView Margin="5"
                                    MinItemHeight="100"
                                    MinItemWidth="100"
                                    SelectionMode="None"
                                    ItemClick="LVItemClick"
                                    IsItemClickEnabled="True"
                                    ItemsSource="{Binding HashtagsTopGenerator.Items, Mode=OneWay}"
                                    ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                    ContainerContentChanging="LVContainerContentChanging"
                                    ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                <local:AdaptiveGridView.ItemContainerTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition />
                    </TransitionCollection>
                </local:AdaptiveGridView.ItemContainerTransitions>
                <local:AdaptiveGridView.Header>
                    <Grid Visibility="{Binding HashtagsTopGenerator.Channel, Converter={StaticResource NullableToVisibilityConverter}}"
                          MaxHeight="220"
                          HorizontalAlignment="Center">
                        <MediaElement AutoPlay="True"
                                      AreTransportControlsEnabled="False"
                                      MaxHeight="220"
                                      IsMuted="True"
                                      Stretch="UniformToFill"
                                      Source="{Binding HashtagsTopGenerator.Channel.Media.Videos[0].Uri, Mode=OneWay}"
                                      PosterSource="{Binding HashtagsTopGenerator.Channel.Media.Images[0].Uri,Mode=OneWay}"
                                      MediaEnded="MediaElementMediaEnded" />
                        <Grid VerticalAlignment="Center"
                              HorizontalAlignment="Center">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <controls:DropShadowPanel BlurRadius="11.0"
                                                      ShadowOpacity="0.70"
                                                      OffsetX="5.0"
                                                      OffsetY="5.0"
                                                      Color="Black"
                                                      Margin="5"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center">
                                <TextBlock Text="WATCH"
                                           FontFamily="{StaticResource VazirFont}"
                                           FontSize="{StaticResource TinyFontSize}"
                                           Margin="5"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           TextAlignment="Center" />
                            </controls:DropShadowPanel>
                            <controls:DropShadowPanel BlurRadius="11.0"
                                                      Grid.Row="1"
                                                      ShadowOpacity="0.70"
                                                      OffsetX="5.0"
                                                      OffsetY="5.0"
                                                      Color="Black"
                                                      Margin="5"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center">
                                <TextBlock Text="{Binding HashtagsTopGenerator.Channel.Title}"
                                           FontFamily="{StaticResource VazirFont}"
                                           FontSize="{StaticResource DefaultFontSize}"
                                           Margin="5"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           TextAlignment="Center" />
                            </controls:DropShadowPanel>
                        </Grid>
                        <Grid Background="Black"
                              Opacity="0"
                              Tapped="MediaElementTapped" />
                    </Grid>
                </local:AdaptiveGridView.Header>
            </local:AdaptiveGridView>


        </PivotItem>
        <PivotItem Header="Recent"
                   Padding="0"
                   Margin="0">
            <local:AdaptiveGridView Margin="5"
                                    MinItemHeight="100"
                                    MinItemWidth="100"
                                    SelectionMode="None"
                                    ItemClick="LVItemXClick"
                                    IsItemClickEnabled="True"
                                    ItemsSource="{Binding HashtagsRecentGenerator.Items, Mode=OneWay}"
                                    ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                    ContainerContentChanging="LVContainerContentChanging"
                                    ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                <local:AdaptiveGridView.ItemContainerTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition />
                    </TransitionCollection>
                </local:AdaptiveGridView.ItemContainerTransitions>
            </local:AdaptiveGridView>

        </PivotItem>
    </Pivot>

</ListView>-->





















<!--<Grid Grid.Row="1">
    <controls:PullToRefreshListView x:Name="MainLV"
                                    Grid.Row="1"
                                    Foreground="{StaticResource DefaultInnerForegroundColor}"
                                    SelectionMode="None"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    IsItemClickEnabled="False"
                                    PullThreshold="140"
                                    IsPullToRefreshWithMouseEnabled="True"
                                    RefreshRequested="MainLVRefreshRequested">
        <controls:PullToRefreshListView.Header>
            <Grid Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock FontFamily="{StaticResource VazirFont}"
                           FontSize="{StaticResource DefaultFontSize}"
                           FontWeight="Normal"
                           Foreground="#FF9C9C9C"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           TextAlignment="Center"
                           TextWrapping="Wrap">
                    #<Run Text="{Binding Hashtag.Name}" />
                </TextBlock>
                <Rectangle Fill="#FF363636"
                           Height="1.4"
                           MinWidth="250"
                           MaxWidth="290"
                           Grid.Row="1"
                           Margin="5"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch" />
                <Grid Grid.Row="2"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Center"
                      MinWidth="250"
                      MaxWidth="300">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid>
                        <Ellipse x:Name="UserImage"
                                 x:FieldModifier="public"
                                 Height="65"
                                 Width="65"
                                 Margin="5 5"
                                 Stroke="#FF3C2866"
                                 StrokeThickness="2">
                            <Ellipse.Fill>
                                <ImageBrush>
                                    <ImageBrush.ImageSource>
                                        <BitmapImage UriSource="{Binding Stories[0].User.ProfilePicture}" />
                                    </ImageBrush.ImageSource>
                                </ImageBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <Grid VerticalAlignment="Bottom"
                              HorizontalAlignment="Right"
                              Margin="2 -2">
                            <Ellipse Height="20"
                                     Width="20"
                                     Margin="5 5"
                                     StrokeThickness=".8">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush EndPoint="0.5,1"
                                                         StartPoint="0.5,0">
                                        <GradientStop Color="#FFD03728" />
                                        <GradientStop Color="#FFCE6319"
                                                      Offset="1" />
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                                <Ellipse.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1"
                                                         StartPoint="0.5,0">
                                        <GradientStop Color="#FFCD7812" />
                                        <GradientStop Color="#FFD12C2C"
                                                      Offset="1" />
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Text="#"
                                       FontFamily="{StaticResource SegoeUIFont}"
                                       FontSize="21"
                                       FontWeight="SemiBold"
                                       Foreground="White"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       TextAlignment="Center" />

                        </Grid>

                        <Ellipse Fill="Black"
                                 Opacity="0"
                                 Height="65"
                                 Width="65"
                                 Margin="5 5"
                                 Tapped="ProfileEllipseTapped" />
                    </Grid>
                    <Grid Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <TextBlock FontFamily="{StaticResource VazirFont}"
                                   FontSize="{StaticResource DefaultFontSize}"
                                   Margin="5"
                                   Foreground="#FFA8A8A8"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextAlignment="Center">
                        <Run Text="{Binding Hashtag.FormattedMediaCount}" />
                        <Run Text="posts" />
                        </TextBlock>
                        <Button Content="{Binding FollowStatus,Mode=TwoWay, Converter={StaticResource FollowHashtagConverter}}"
                                Visibility="{Binding Mode=TwoWay, Converter={StaticResource NullableToVisibilityConverter}}"
                                DataContext="{Binding Hashtag}"
                                FontFamily="{StaticResource VazirFont}"
                                FontSize="{StaticResource DefaultFontSize}"
                                Grid.Row="1"
                                Margin="5"
                                HorizontalAlignment="Center"
                                Width="130"
                                VerticalAlignment="Center"
                                Click="FollowStatusButtonClick">
                            <interactivity:Interaction.Behaviors>
                                <behaviorsX:PointersEvent />
                            </interactivity:Interaction.Behaviors>
                        </Button>
                        <TextBlock FontFamily="{StaticResource VazirFont}"
                                   FontSize="{StaticResource TinyFontSize}"
                                   Grid.Row="2"
                                   Foreground="#FFA8A8A8"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center">
                        <Run Text="{Binding Hashtag.SocialContext}" />
                        </TextBlock>
                    </Grid>

                </Grid>

                <ListView x:Name="LVRelatives"
                          SelectionMode="None"
                          Foreground="White"
                          Grid.Row="3"
                          Margin="14 5"
                          MaxWidth="300"
                          ItemsSource="{Binding HashtagsTopGenerator.RelatedHashtags, Mode=OneWay}"
                          ScrollViewer.HorizontalScrollMode="Enabled"
                          ScrollViewer.HorizontalScrollBarVisibility="Auto"
                          ScrollViewer.VerticalScrollMode="Disabled"
                          ScrollViewer.VerticalScrollBarVisibility="Hidden"
                          IsItemClickEnabled="True"
                          ItemClick="LVRelativesItemClick"
                          Visibility="{Binding HashtagsTopGenerator.RelatedHashtags, Converter={StaticResource NullableToVisibilityConverter}}">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment"
                                    Value="Center" />
                            <Setter Property="Margin"
                                    Value="0" />
                            <Setter Property="Padding"
                                    Value="0 5 5 5" />
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsStackPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.Header>
                        <Grid VerticalAlignment="Center">
                            <interactivity:Interaction.Behaviors>
                                <behaviorsX:PointersEvent />
                            </interactivity:Interaction.Behaviors>
                            <TextBlock FontFamily="{StaticResource VazirFont}"
                                       FontSize="{StaticResource DefaultFontSize}"
                                       Foreground="#FFA8A8A8"
                                       Text="Related"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </ListView.Header>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid VerticalAlignment="Center">
                                <interactivity:Interaction.Behaviors>
                                    <behaviorsX:PointersEvent />
                                </interactivity:Interaction.Behaviors>
                                <TextBlock FontFamily="{StaticResource VazirFont}"
                                           FontSize="{StaticResource DefaultFontSize}"
                                           Foreground="#FFA8A8A8">
                                     #<Run Text="{Binding Name}" />
                                </TextBlock>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>

                </ListView>

                <Rectangle Fill="#FF363636"
                           Height="1.4"
                           MinWidth="250"
                           MaxWidth="290"
                           Grid.Row="4"
                           Margin="5"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch" />


            </Grid>
        </controls:PullToRefreshListView.Header>
        <Pivot x:Name="MainPivot"
               Grid.Row="1"
               Padding="0"
               Margin="0"
               SelectionChanged="MainPivotSelectionChanged">
            <PivotItem Header="Top"
                       Padding="0"
                       Margin="0">
                <controls:PullToRefreshListView x:Name="TopItemsLV"
                                                Grid.Row="1"
                                                Foreground="{StaticResource DefaultInnerForegroundColor}"
                                                SelectionMode="None"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                IsItemClickEnabled="False"
                                                PullThreshold="140"
                                                IsPullToRefreshWithMouseEnabled="True"
                                                RefreshRequested="TopItemsLVRefreshRequested"
                                                Loaded="TopItemsLVLoaded">

                    <controls:PullToRefreshListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="VerticalContentAlignment"
                                    Value="Stretch" />
                            <Setter Property="HorizontalContentAlignment"
                                    Value="Stretch" />
                            <Setter Property="Margin"
                                    Value="1 2 0 5" />
                            <Setter Property="Padding"
                                    Value="1" />
                        </Style>
                    </controls:PullToRefreshListView.ItemContainerStyle>


                    <local:AdaptiveGridView Margin="5"
                                            MinItemHeight="140"
                                            MinItemWidth="140"
                                            SelectionMode="None"
                                            ItemClick="LVItemClick"
                                            IsItemClickEnabled="True"
                                            ItemsSource="{Binding HashtagsTopGenerator.Items, Mode=OneWay}"
                                            ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                            ContainerContentChanging="LVContainerContentChanging"
                                            ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                        <local:AdaptiveGridView.ItemContainerTransitions>
                            <TransitionCollection>
                                <EntranceThemeTransition />
                            </TransitionCollection>
                        </local:AdaptiveGridView.ItemContainerTransitions>
                        <local:AdaptiveGridView.Header>
                            <Grid Visibility="{Binding HashtagsTopGenerator.Channel, Converter={StaticResource NullableToVisibilityConverter}}"
                                  MaxHeight="220"
                                  HorizontalAlignment="Center">
                                <MediaElement AutoPlay="True"
                                              AreTransportControlsEnabled="False"
                                              MaxHeight="220"
                                              IsMuted="True"
                                              Stretch="UniformToFill"
                                              Source="{Binding HashtagsTopGenerator.Channel.Media.Videos[0].Uri, Mode=OneWay}"
                                              PosterSource="{Binding HashtagsTopGenerator.Channel.Media.Images[0].Uri,Mode=OneWay}"
                                              MediaEnded="MediaElementMediaEnded" />
                                <Grid VerticalAlignment="Center"
                                      HorizontalAlignment="Center">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <controls:DropShadowPanel BlurRadius="11.0"
                                                              ShadowOpacity="0.70"
                                                              OffsetX="5.0"
                                                              OffsetY="5.0"
                                                              Color="Black"
                                                              Margin="5"
                                                              HorizontalAlignment="Center"
                                                              VerticalAlignment="Center">
                                        <TextBlock Text="WATCH"
                                                   FontFamily="{StaticResource VazirFont}"
                                                   FontSize="{StaticResource TinyFontSize}"
                                                   Margin="5"
                                                   Foreground="White"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   TextAlignment="Center" />
                                    </controls:DropShadowPanel>
                                    <controls:DropShadowPanel BlurRadius="11.0"
                                                              Grid.Row="1"
                                                              ShadowOpacity="0.70"
                                                              OffsetX="5.0"
                                                              OffsetY="5.0"
                                                              Color="Black"
                                                              Margin="5"
                                                              HorizontalAlignment="Center"
                                                              VerticalAlignment="Center">
                                        <TextBlock Text="{Binding HashtagsTopGenerator.Channel.Title}"
                                                   FontFamily="{StaticResource VazirFont}"
                                                   FontSize="{StaticResource DefaultFontSize}"
                                                   Margin="5"
                                                   Foreground="White"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   TextAlignment="Center" />
                                    </controls:DropShadowPanel>
                                </Grid>
                                <Grid Background="Black"
                                      Opacity="0"
                                      Tapped="MediaElementTapped" />
                            </Grid>
                        </local:AdaptiveGridView.Header>
                    </local:AdaptiveGridView>

                </controls:PullToRefreshListView>

            </PivotItem>
            <PivotItem Header="Recent"
                       Padding="0"
                       Margin="0">
                <controls:PullToRefreshListView x:Name="RecentItemsLV"
                                                Grid.Row="1"
                                                Foreground="{StaticResource DefaultInnerForegroundColor}"
                                                SelectionMode="None"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                IsItemClickEnabled="False"
                                                PullThreshold="140"
                                                IsPullToRefreshWithMouseEnabled="True"
                                                Loaded="RecentItemsLVLoaded"
                                                RefreshRequested="RecentItemsLVRefreshRequested">

                    <controls:PullToRefreshListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="VerticalContentAlignment"
                                    Value="Stretch" />
                            <Setter Property="HorizontalContentAlignment"
                                    Value="Stretch" />
                            <Setter Property="Margin"
                                    Value="1 12 0 5" />
                            <Setter Property="Padding"
                                    Value="1" />
                        </Style>
                    </controls:PullToRefreshListView.ItemContainerStyle>


                    <local:AdaptiveGridView Margin="5"
                                            MinItemHeight="140"
                                            MinItemWidth="140"
                                            SelectionMode="None"
                                            ItemClick="LVItemXClick"
                                            IsItemClickEnabled="True"
                                            ItemsSource="{Binding HashtagsRecentGenerator.Items, Mode=OneWay}"
                                            ItemTemplateSelector="{StaticResource MediaHashtagInfoTemplateSelector}"
                                            ContainerContentChanging="LVContainerContentChanging"
                                            ItemContainerStyle="{StaticResource GridViewItemContainerStyle}">
                        <local:AdaptiveGridView.ItemContainerTransitions>
                            <TransitionCollection>
                                <EntranceThemeTransition />
                            </TransitionCollection>
                        </local:AdaptiveGridView.ItemContainerTransitions>
                    </local:AdaptiveGridView>

                </controls:PullToRefreshListView>
            </PivotItem>
        </Pivot>

    </controls:PullToRefreshListView>
    <Grid x:Name="HeaderGrid"
          Visibility="Visible"
          Loaded="HeaderGridLoaded"
          VerticalAlignment="Top">
        <Grid Grid.RowSpan="2">
            <interactivity:Interaction.Behaviors>
                <behaviors:Blur x:Name="BlurBehavior"
                                Value="25"
                                Duration="0"
                                Delay="0"
                                AutomaticallyStart="True" />
            </interactivity:Interaction.Behaviors>
        </Grid>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />

                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <AppBarButton x:Name="TopButton"
                          ToolTipService.ToolTip="Top Hashtags"
                          HorizontalAlignment="Stretch"
                          Width="190"
                          Margin="2"
                          Grid.Column="1"
                          FontFamily="{StaticResource VazirFont}"
                          FontSize="{StaticResource DefaultFontSize}"
                          Click="TopButtonClick"
                          Style="{StaticResource NotCenteredAppBarButton}"
                          Background="{x:Null}">
                <interactivity:Interaction.Behaviors>
                    <behaviorsX:PointersEvent />
                </interactivity:Interaction.Behaviors>
                <Grid>
                    <TextBlock x:Name="txtTop"
                               Foreground="White"
                               Text="Top"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontFamily="{StaticResource VazirFont}"
                               FontSize="{StaticResource DefaultFontSize}"
                               TextWrapping="NoWrap"
                               Margin="3" />
                    <Grid Background="SaddleBrown"
                          Opacity="0" />
                </Grid>
            </AppBarButton>
            <AppBarButton x:Name="RecentButton"
                          ToolTipService.ToolTip="Recent Hashtags"
                          HorizontalAlignment="Stretch"
                          Width="190"
                          Margin="2"
                          Grid.Column="2"
                          FontFamily="{StaticResource VazirFont}"
                          FontSize="{StaticResource DefaultFontSize}"
                          Click="RecentButtonClick"
                          Style="{StaticResource NotCenteredAppBarButton}"
                          Background="{x:Null}">
                <interactivity:Interaction.Behaviors>
                    <behaviorsX:PointersEvent />
                </interactivity:Interaction.Behaviors>
                <Grid>
                    <TextBlock x:Name="txtRecent"
                               Text="Recent"
                               Foreground="#FFD5D5D5"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontFamily="{StaticResource VazirFont}"
                               FontSize="{StaticResource DefaultFontSize}"
                               TextWrapping="NoWrap"
                               Margin="3" />
                    <Grid Background="SaddleBrown"
                          Opacity="0" />
                </Grid>
            </AppBarButton>

        </Grid>
    </Grid>
</Grid>-->